// Dummy AHSP Data - Analisa Harga Satuan Pekerjaan
// This is sample data for development. Real data will come from API/database.

import type { AHSPItem, AHSPCategory } from "./ahsp.types";

// Category labels for UI
export const AHSP_CATEGORY_LABELS: Record<AHSPCategory, string> = {
    PERSIAPAN: "Pekerjaan Persiapan",
    STRUKTUR: "Pekerjaan Struktur",
    ARSITEKTUR: "Pekerjaan Arsitektur",
    PLUMBING: "Pekerjaan Plumbing",
    MEP: "Mekanikal Elektrikal",
    SITE_DEV: "Site Development",
};

// Dummy AHSP items
export const AHSP_DATA: AHSPItem[] = [
    // ===== PERSIAPAN =====
    {
        id: "ahsp-prep-001",
        code: "1.1.1",
        name: "Pembersihan Lapangan",
        nameId: "Site Clearing",
        category: "PERSIAPAN",
        unit: "m²",
        unitPrice: 15000,
        laborTotal: 12000,
        materialTotal: 0,
        equipmentTotal: 1500,
        overhead: 1500,
    },
    {
        id: "ahsp-prep-002",
        code: "1.1.2",
        name: "Pengukuran dan Pematokan",
        nameId: "Survey & Staking",
        category: "PERSIAPAN",
        unit: "m²",
        unitPrice: 8500,
        laborTotal: 7000,
        materialTotal: 500,
        equipmentTotal: 500,
        overhead: 500,
    },
    {
        id: "ahsp-prep-003",
        code: "1.2.1",
        name: "Pemasangan Bouwplank",
        nameId: "Bouwplank Installation",
        category: "PERSIAPAN",
        unit: "m'",
        unitPrice: 125000,
        laborTotal: 45000,
        materialTotal: 65000,
        equipmentTotal: 5000,
        overhead: 10000,
    },
    {
        id: "ahsp-prep-004",
        code: "1.3.1",
        name: "Mobilisasi Alat Berat",
        nameId: "Heavy Equipment Mobilization",
        category: "PERSIAPAN",
        unit: "ls",
        unitPrice: 15000000,
    },

    // ===== STRUKTUR =====
    {
        id: "ahsp-str-001",
        code: "2.1.1",
        name: "Galian Tanah Biasa",
        nameId: "Common Soil Excavation",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 85000,
        laborTotal: 70000,
        equipmentTotal: 10000,
        overhead: 5000,
    },
    {
        id: "ahsp-str-002",
        code: "2.1.2",
        name: "Urugan Pasir Bawah Pondasi",
        nameId: "Sand Fill Under Foundation",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 350000,
        laborTotal: 50000,
        materialTotal: 280000,
        overhead: 20000,
    },
    {
        id: "ahsp-str-003",
        code: "2.2.1",
        name: "Lantai Kerja K-125",
        nameId: "Lean Concrete K-125",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 950000,
        laborTotal: 150000,
        materialTotal: 720000,
        overhead: 80000,
    },
    {
        id: "ahsp-str-004",
        code: "2.2.2",
        name: "Beton Bertulang K-300 Pondasi",
        nameId: "Reinforced Concrete K-300 Foundation",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 1850000,
        laborTotal: 350000,
        materialTotal: 1350000,
        overhead: 150000,
    },
    {
        id: "ahsp-str-005",
        code: "2.2.3",
        name: "Beton Bertulang K-350 Kolom",
        nameId: "Reinforced Concrete K-350 Column",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 2150000,
        laborTotal: 400000,
        materialTotal: 1580000,
        overhead: 170000,
    },
    {
        id: "ahsp-str-006",
        code: "2.2.4",
        name: "Beton Bertulang K-350 Balok",
        nameId: "Reinforced Concrete K-350 Beam",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 2350000,
        laborTotal: 450000,
        materialTotal: 1720000,
        overhead: 180000,
    },
    {
        id: "ahsp-str-007",
        code: "2.2.5",
        name: "Beton Bertulang K-300 Plat Lantai",
        nameId: "Reinforced Concrete K-300 Floor Slab",
        category: "STRUKTUR",
        unit: "m³",
        unitPrice: 1950000,
        laborTotal: 380000,
        materialTotal: 1400000,
        overhead: 170000,
    },
    {
        id: "ahsp-str-008",
        code: "2.3.1",
        name: "Pembesian D10",
        nameId: "Rebar D10",
        category: "STRUKTUR",
        unit: "kg",
        unitPrice: 18500,
        laborTotal: 3500,
        materialTotal: 14000,
        overhead: 1000,
    },
    {
        id: "ahsp-str-009",
        code: "2.3.2",
        name: "Pembesian D13",
        nameId: "Rebar D13",
        category: "STRUKTUR",
        unit: "kg",
        unitPrice: 18000,
        laborTotal: 3200,
        materialTotal: 13800,
        overhead: 1000,
    },
    {
        id: "ahsp-str-010",
        code: "2.4.1",
        name: "Bekisting Kolom",
        nameId: "Column Formwork",
        category: "STRUKTUR",
        unit: "m²",
        unitPrice: 185000,
        laborTotal: 85000,
        materialTotal: 85000,
        overhead: 15000,
    },
    {
        id: "ahsp-str-011",
        code: "2.4.2",
        name: "Bekisting Balok",
        nameId: "Beam Formwork",
        category: "STRUKTUR",
        unit: "m²",
        unitPrice: 195000,
        laborTotal: 95000,
        materialTotal: 85000,
        overhead: 15000,
    },

    // ===== ARSITEKTUR =====
    {
        id: "ahsp-ars-001",
        code: "3.1.1",
        name: "Pasangan Bata Ringan 10cm",
        nameId: "Lightweight Brick Wall 10cm",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 185000,
        laborTotal: 55000,
        materialTotal: 115000,
        overhead: 15000,
    },
    {
        id: "ahsp-ars-002",
        code: "3.1.2",
        name: "Pasangan Bata Ringan 15cm",
        nameId: "Lightweight Brick Wall 15cm",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 265000,
        laborTotal: 65000,
        materialTotal: 180000,
        overhead: 20000,
    },
    {
        id: "ahsp-ars-003",
        code: "3.2.1",
        name: "Plesteran 1:4",
        nameId: "Plastering 1:4",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 55000,
        laborTotal: 30000,
        materialTotal: 20000,
        overhead: 5000,
    },
    {
        id: "ahsp-ars-004",
        code: "3.2.2",
        name: "Acian",
        nameId: "Skim Coat",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 35000,
        laborTotal: 22000,
        materialTotal: 10000,
        overhead: 3000,
    },
    {
        id: "ahsp-ars-005",
        code: "3.3.1",
        name: "Pengecatan Dinding Interior",
        nameId: "Interior Wall Painting",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 45000,
        laborTotal: 18000,
        materialTotal: 23000,
        overhead: 4000,
    },
    {
        id: "ahsp-ars-006",
        code: "3.3.2",
        name: "Pengecatan Dinding Eksterior",
        nameId: "Exterior Wall Painting",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 55000,
        laborTotal: 20000,
        materialTotal: 30000,
        overhead: 5000,
    },
    {
        id: "ahsp-ars-007",
        code: "3.4.1",
        name: "Pemasangan Keramik Lantai 60x60",
        nameId: "Floor Tile 60x60 Installation",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 285000,
        laborTotal: 85000,
        materialTotal: 175000,
        overhead: 25000,
    },
    {
        id: "ahsp-ars-008",
        code: "3.4.2",
        name: "Pemasangan Keramik Dinding 30x60",
        nameId: "Wall Tile 30x60 Installation",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 265000,
        laborTotal: 90000,
        materialTotal: 150000,
        overhead: 25000,
    },
    {
        id: "ahsp-ars-009",
        code: "3.5.1",
        name: "Pintu Panel Kayu",
        nameId: "Wooden Panel Door",
        category: "ARSITEKTUR",
        unit: "unit",
        unitPrice: 2850000,
    },
    {
        id: "ahsp-ars-010",
        code: "3.5.2",
        name: "Pintu Aluminium",
        nameId: "Aluminum Door",
        category: "ARSITEKTUR",
        unit: "unit",
        unitPrice: 3500000,
    },
    {
        id: "ahsp-ars-011",
        code: "3.6.1",
        name: "Jendela Aluminium",
        nameId: "Aluminum Window",
        category: "ARSITEKTUR",
        unit: "m²",
        unitPrice: 850000,
    },

    // ===== PLUMBING =====
    {
        id: "ahsp-plb-001",
        code: "4.1.1",
        name: "Pipa PVC 4\" AW",
        nameId: "PVC Pipe 4\" AW",
        category: "PLUMBING",
        unit: "m'",
        unitPrice: 125000,
    },
    {
        id: "ahsp-plb-002",
        code: "4.1.2",
        name: "Pipa PVC 3\" AW",
        nameId: "PVC Pipe 3\" AW",
        category: "PLUMBING",
        unit: "m'",
        unitPrice: 85000,
    },
    {
        id: "ahsp-plb-003",
        code: "4.2.1",
        name: "Floor Drain Stainless",
        nameId: "Stainless Floor Drain",
        category: "PLUMBING",
        unit: "unit",
        unitPrice: 185000,
    },
    {
        id: "ahsp-plb-004",
        code: "4.3.1",
        name: "Kloset Duduk",
        nameId: "Sitting Toilet",
        category: "PLUMBING",
        unit: "unit",
        unitPrice: 2500000,
    },
    {
        id: "ahsp-plb-005",
        code: "4.3.2",
        name: "Wastafel Complete",
        nameId: "Washbasin Complete",
        category: "PLUMBING",
        unit: "unit",
        unitPrice: 1850000,
    },

    // ===== MEP =====
    {
        id: "ahsp-mep-001",
        code: "5.1.1",
        name: "Titik Lampu",
        nameId: "Lighting Point",
        category: "MEP",
        unit: "titik",
        unitPrice: 450000,
    },
    {
        id: "ahsp-mep-002",
        code: "5.1.2",
        name: "Titik Stop Kontak",
        nameId: "Power Outlet Point",
        category: "MEP",
        unit: "titik",
        unitPrice: 385000,
    },
    {
        id: "ahsp-mep-003",
        code: "5.2.1",
        name: "Panel Box MCB",
        nameId: "MCB Panel Box",
        category: "MEP",
        unit: "unit",
        unitPrice: 3500000,
    },
    {
        id: "ahsp-mep-004",
        code: "5.3.1",
        name: "AC Split 1 PK",
        nameId: "Split AC 1 HP",
        category: "MEP",
        unit: "unit",
        unitPrice: 5500000,
    },

    // ===== SITE DEVELOPMENT =====
    {
        id: "ahsp-site-001",
        code: "6.1.1",
        name: "Paving Block Tebal 6cm",
        nameId: "Paving Block 6cm Thick",
        category: "SITE_DEV",
        unit: "m²",
        unitPrice: 185000,
    },
    {
        id: "ahsp-site-002",
        code: "6.2.1",
        name: "Saluran Drainase U-Ditch",
        nameId: "U-Ditch Drainage Channel",
        category: "SITE_DEV",
        unit: "m'",
        unitPrice: 650000,
    },
    {
        id: "ahsp-site-003",
        code: "6.3.1",
        name: "Pagar BRC",
        nameId: "BRC Fence",
        category: "SITE_DEV",
        unit: "m'",
        unitPrice: 450000,
    },
];

// Get items by category
export function getAHSPByCategory(category: AHSPCategory): AHSPItem[] {
    return AHSP_DATA.filter(item => item.category === category);
}

// Search AHSP items
export function searchAHSP(query: string, category?: AHSPCategory): AHSPItem[] {
    const normalizedQuery = query.toLowerCase().trim();

    return AHSP_DATA.filter(item => {
        const matchesQuery =
            item.code.toLowerCase().includes(normalizedQuery) ||
            item.name.toLowerCase().includes(normalizedQuery) ||
            (item.nameId && item.nameId.toLowerCase().includes(normalizedQuery));

        const matchesCategory = !category || item.category === category;

        return matchesQuery && matchesCategory;
    });
}

// Format price for display
export function formatPrice(price: number): string {
    return new Intl.NumberFormat('id-ID', {
        style: 'currency',
        currency: 'IDR',
        minimumFractionDigits: 0,
    }).format(price);
}
